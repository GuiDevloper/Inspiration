<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Inspiração</title>
	<!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/css/materialize.min.css">
  <style type="text/css">
  	/*.card {
  		opacity: 0.9;
    	filter: Alpha(opacity=90);
  	}*/
    @media screen and (max-width: 380px) {
      .grid-item{width: 100%;}
    }
    @media screen and (min-width: 381px) and (max-width: 499px) {
      .grid-item{width: 50%;}
    }
    @media screen and (min-width: 500px) and (max-width: 768px) {
      .grid-item{width: 33%;}
    }
    @media screen and (min-width: 769px) {
      .grid-item{width: 25%;}
    }
  </style>
</head>
<body style="background-image: url('background/Universe5.png'); background-size: 100%; background-attachment: fixed;">

  <div class="row grid">
        <div class="grid-item col s3 m3">
          <div class="card hoverable">
            <div class="card-image">
              <img class="responsive-img materialboxed" data-caption="Programe <> e Desenvolva" src="card/28.jpg">
            </div>
            <div class="frase">
            <div class="card-content flow-toggle">
              <p class="flow-text">...</p>
            </div>
            <div class="card-action">
              
            </div>
            </div>
          </div>
        </div>
      
  </div>

  <div class="fixed-action-btn icone" style="margin-right: 5vw;"><a class="btn btn-floating btn-large button-collapse teal darken-4" data-activates="slide-out"><i class="material-icons">menu</i></a></div>
  <div class="fixed-action-btn icone">
    <a class="btn-floating btn-large teal darken-4">
      <i class="large material-icons">local_cafe</i>
    </a>
    <ul>
      <li class="waves-effect waves-light" id="maiszoom"><i class="material-icons teal-text darken-4">zoom_in</i></li>
      <li class="waves-effect waves-light" id="menoszoom"><i class="material-icons teal-text darken-4">zoom_out</i></li>
      <!--<li class="waves-effect waves-light"><i class="material-icons teal-text darken-4">publish</i></li>-->
    </ul>
  </div>

	  <ul id="slide-out" class="side-nav" style="background-color: #171717;">
	    <li><div class="user-view materialboxed">
	      <div class="background">
	        <img class="responsive-img" data-caption="Programe <code> e Desenvolva" src="card/15.gif">
	      </div>
        <div class="center-align">
	      <img class="circle center-block" src="card/Guilherme.jpg">
	      <span class="white-text name">Guilherme Correia</span>
	      <span class="white-text email">Guilherme13</span>
        </div>
	    </div></li>
	    <li><img class="responsive-img materialboxed image" data-caption="Programe <code> e Desenvolva" src="card/17.jpg"><a href="#!" class="exibir white-text"><i class="material-icons white-text">people</i>Filosofia</a></li>
	    <li><a href="#!" class="white-text"><i class="material-icons white-text">favorite</i>Amor</a></li>
	    <!--<li><div class="divider"></div></li>-->
	    <li><a class="waves-effect white-text" href="#!"><i class="material-icons white-text">code</i>União</a></li>
	  </ul>

	<!--   Core JS Files   -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
  	<!-- Compiled and minified JavaScript -->
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/js/materialize.min.js"></script>
    <script src = "https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
    <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  	<script>
  	$(document).ready(function() {

      $('.image').hide();
      //$('.grid-item').hide();
      var mark = $(".row").html();
      var numimage = mark.substring(mark.indexOf("/")+1, mark.indexOf("."))-1;
      
      for(var i=numimage;i>=1;i--){
        var img = i+".jpg";
        if(i==8||i==15||i==16){img = i+".gif";}
        $(".row").append("<div class='grid-item col s3 m3'><div class='card hoverable'><div class='card-image'><img class='materialboxed' size='100%' data-caption='Programe <code> e Desenvolva' src='card/"+img+"'></div><div class='frase'><div class='card-content flow-toggle'><p class='flow-text'>...</p></div><div class='card-action'></div></div></div></div>");
          //Inicialização do Material Boxed
          $('.materialboxed').materialbox();
          //$('.grid-item').hide();
      }
      $(".icone").show();
      //$(".material-icons").css('display', 'inline-block');
      $('html').css('line-height', '1.0');
      $('.grid-item').css('width', '25%');
      $('.flow-text').css('font-size', '1.2em');
      //$('.card').find('img').css("opacity", "1.0");
      //$('*').css('box-sizing', 'border-box');

  		$(".button-collapse").sideNav();
  		$(".flow-toggle").click(function() {
  			$(this).children().toggleClass("flow-text");
  		});
  		/*$(".frase").click(function() {
  			if($(this).css("opacity")=="1"){$(this).css("opacity", "0.9");}
  			else{$(this).css("opacity", "1.0");}
  		});*/
      var i=0;
      $('#maiszoom').click(function () {
        i+=1; i = i < 1 ? 1 : (i > 2?2 : i);
        var tamnovo = i==1?'33%':(i==2?'50%':'25%');
        $('.grid-item').css('width', tamnovo);
        $('.grid').masonry(); 
      });
      $('#menoszoom').click(function () {
        i-=1; i = i < 1 ? 1 : (i > 2?2 : i);
        var tamnovo = i==1?'25%':(i==2?'33%':'25%');
        $('.grid-item').css('width', tamnovo);
        $('.grid').masonry();
      });
      $(window).resize(function(){
        var tamTela = $('body').width();
        if(tamTela <= 380){
          $('.grid-item').css('width', '100%');
        }
        if(tamTela > 380 && tamTela < 500){
          $('.grid-item').css('width', '50%');
        }
        if(tamTela >= 500 && tamTela <= 768){
          $('.grid-item').css('width', '33%');
        }
        if(tamTela > 768){
          $('.grid-item').css('width', '25%');
        }
      });

      $('.exibir').click(function(){
        if($('.image').is(':hidden')){$('.image').slideDown();}else{$('.image').slideUp();}
      });
	        //Requisitando informações do arquivo Frases.txt e recebendo na result
	        $.ajax({url: "Frases.txt", success: function(result){
            $(".frase").each(function(){
            var x = Math.floor((Math.random() * 96) + 1);
	        	var posini = result.indexOf(x+")");
            var texto = result.substr(posini);
	        	var final = texto.indexOf(" - ");
	        	var Frase = texto.substring(0, final);
            var autor = texto.substring(final);
            autor = autor.substring(autor.indexOf(" ")+3, autor.indexOf(","));
            var link = "<a class='red-text' href='https://www.google.com.br/search?q="+autor+"'>"+autor+"</a>";
            Frase = Frase.replace(x+")", "");
	            //Modificando texto do elemento com esta id para o texto do resultado
	            $(this).find("p").html(Frase);
              $(this).children(".card-action").html(link);
	        });
	    }});

          var $container = $('.grid');
          $container.imagesLoaded( function() {
            $('.grid-item').fadeIn(1000);

            $container.masonry({
                itemSelector : '.grid-item',
                //columnwidth: 100,
                //gutter: 20,
                //isFitWidth: true
            });
          });
  	});
    /*$(".card.hoverable").on({
        mouseenter: function() {
      var tamNovo = $(this).css('height');
      $('.frase').css('height', tamNovo);
      $(this).find('.card-image').slideUp();
      $(this).find('.frase').slideDown();
    }, mouseleave: function() {
      $(this).find('.frase').slideUp();
      $(this).find('.card-image').slideDown();
    } 
  });*/
  /*$(function(){
var imagens = ['background/Universe5.png','background/Universe1.jpg','background/Universe2.jpg','background/Universe6.jpg'],
   index = 0,
   maxImagens = imagens.length - 1;
    var timer = setInterval(function() {
   var imagemAtual = imagens[index];
   index = (index == maxImagens) ? 0 : ++index;
   $('body').css({
       'background-image':'url('+imagemAtual+')',
       'transition': 'background 1500ms ease'
   });
}, 3500);
});*/
  	</script>
</body>
</html>